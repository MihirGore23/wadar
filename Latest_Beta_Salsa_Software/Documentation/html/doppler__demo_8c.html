<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Salsa Demo Programs: /home/jenkins/workspace/SalsaDemos/Onza/DopplerDemo/doppler_demo.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Salsa Demo Programs
   &#160;<span id="projectnumber">2016-05-03</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_43e0a1f539e00dcfa1a6bc4d4fee4fc2.html">home</a></li><li class="navelem"><a class="el" href="dir_337c3a93990b7dbc7695d613ed19043e.html">jenkins</a></li><li class="navelem"><a class="el" href="dir_66e3ff4cadd89b6e62cafb2105835506.html">workspace</a></li><li class="navelem"><a class="el" href="dir_7afc540aa59c01078fb11ff79218d290.html">SalsaDemos</a></li><li class="navelem"><a class="el" href="dir_b89902c1c2b19a0b2c657274bcbe88bb.html">Onza</a></li><li class="navelem"><a class="el" href="dir_c9147fcdfdc1e73fab6523ca54e22d42.html">DopplerDemo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">doppler_demo.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;getopt.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;radarDSP.h&quot;</code><br />
<code>#include &quot;doppler.h&quot;</code><br />
<code>#include &quot;cluttermap.h&quot;</code><br />
<code>#include &quot;fex4.h&quot;</code><br />
<code>#include &quot;<a class="el" href="utility_8h_source.html">../../Common/inc/utility.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dsp__helper_8h_source.html">dsp_helper.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="onza_helper_8h_source.html">../Helpers/onzaHelper.h</a>&quot;</code><br />
</div>
<p><a href="doppler__demo_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aed8c37fd6aaacee448c1660f09f11ed5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#aed8c37fd6aaacee448c1660f09f11ed5">SHOW_DEBUG_SETTINGS</a></td></tr>
<tr class="separator:aed8c37fd6aaacee448c1660f09f11ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d72754a58dc9658cc48d79f95b2021a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a7d72754a58dc9658cc48d79f95b2021a">DOPPLER_LENGTH</a>&#160;&#160;&#160;(16)</td></tr>
<tr class="separator:a7d72754a58dc9658cc48d79f95b2021a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad48ea9b06da6b3c5d9a4c4a5eedf32b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#ad48ea9b06da6b3c5d9a4c4a5eedf32b3">DOPPLER_PLOT_STEPS</a>&#160;&#160;&#160;(4)</td></tr>
<tr class="separator:ad48ea9b06da6b3c5d9a4c4a5eedf32b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04cd99408e5aa73da70ee01ca940c860"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a04cd99408e5aa73da70ee01ca940c860">DOPPLER_VELOCITY_COUNTS</a>&#160;&#160;&#160;(4)</td></tr>
<tr class="separator:a04cd99408e5aa73da70ee01ca940c860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb32e6744a151dde6686dbc26bdd342"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#adbb32e6744a151dde6686dbc26bdd342">BIAS</a>&#160;&#160;&#160;(0.86)</td></tr>
<tr class="separator:adbb32e6744a151dde6686dbc26bdd342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061e870517c5d5c01d232d72e5b6857f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a061e870517c5d5c01d232d72e5b6857f">DOWNSAMPLE</a>&#160;&#160;&#160;(8)</td></tr>
<tr class="separator:a061e870517c5d5c01d232d72e5b6857f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34995b955465f6bbb37c359173d50477"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a34995b955465f6bbb37c359173d50477">ANSI_COLOR_RED</a>&#160;&#160;&#160;&quot;\x1b[91m&quot;</td></tr>
<tr class="separator:a34995b955465f6bbb37c359173d50477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966c72d8d733c7734c6c784753d894c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a966c72d8d733c7734c6c784753d894c7">ANSI_COLOR_GREEN</a>&#160;&#160;&#160;&quot;\x1b[92m&quot;</td></tr>
<tr class="separator:a966c72d8d733c7734c6c784753d894c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a123b382640b3aa65dd5db386002fbc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a5a123b382640b3aa65dd5db386002fbc">ANSI_COLOR_YELLOW</a>&#160;&#160;&#160;&quot;\x1b[93m&quot;</td></tr>
<tr class="separator:a5a123b382640b3aa65dd5db386002fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb30614ba1535da5b9d0c490b3c10515"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#acb30614ba1535da5b9d0c490b3c10515">ANSI_COLOR_MAGENTA</a>&#160;&#160;&#160;&quot;\x1b[95m&quot;</td></tr>
<tr class="separator:acb30614ba1535da5b9d0c490b3c10515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0b0043e152438bb39b918a1f98c65f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a8d0b0043e152438bb39b918a1f98c65f">ANSI_COLOR_CYAN</a>&#160;&#160;&#160;&quot;\x1b[96m&quot;</td></tr>
<tr class="separator:a8d0b0043e152438bb39b918a1f98c65f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92a364c2b863dde1a024a77eac2a5b3b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a92a364c2b863dde1a024a77eac2a5b3b">ANSI_COLOR_RESET</a>&#160;&#160;&#160;&quot;\x1b[0m&quot;</td></tr>
<tr class="separator:a92a364c2b863dde1a024a77eac2a5b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a64a6014565bb3e03294ec4a952d5add0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a64a6014565bb3e03294ec4a952d5add0">usage</a> ()</td></tr>
<tr class="separator:a64a6014565bb3e03294ec4a952d5add0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87bffc6aa5c7bcbb185aae0fd0bdb8e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a87bffc6aa5c7bcbb185aae0fd0bdb8e0">doppler_rotate</a> (double *doppler_matrix, double *doppler_reordered, int row_len, int col_len)</td></tr>
<tr class="separator:a87bffc6aa5c7bcbb185aae0fd0bdb8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bdac26f84eb11c5550f87b729837655"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a6bdac26f84eb11c5550f87b729837655">velocity_update</a> (int *velocities, int value, int len)</td></tr>
<tr class="separator:a6bdac26f84eb11c5550f87b729837655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace9aea586c7952bcd4ba6737af8ea1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#aace9aea586c7952bcd4ba6737af8ea1c">doppler_interpret</a> (double distance, int *velocities, int len, int doppler_len)</td></tr>
<tr class="separator:aace9aea586c7952bcd4ba6737af8ea1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="doppler__demo_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8d0b0043e152438bb39b918a1f98c65f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0b0043e152438bb39b918a1f98c65f">&#9670;&nbsp;</a></span>ANSI_COLOR_CYAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANSI_COLOR_CYAN&#160;&#160;&#160;&quot;\x1b[96m&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00130">130</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a966c72d8d733c7734c6c784753d894c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a966c72d8d733c7734c6c784753d894c7">&#9670;&nbsp;</a></span>ANSI_COLOR_GREEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANSI_COLOR_GREEN&#160;&#160;&#160;&quot;\x1b[92m&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00127">127</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="acb30614ba1535da5b9d0c490b3c10515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb30614ba1535da5b9d0c490b3c10515">&#9670;&nbsp;</a></span>ANSI_COLOR_MAGENTA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANSI_COLOR_MAGENTA&#160;&#160;&#160;&quot;\x1b[95m&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00129">129</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a34995b955465f6bbb37c359173d50477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34995b955465f6bbb37c359173d50477">&#9670;&nbsp;</a></span>ANSI_COLOR_RED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANSI_COLOR_RED&#160;&#160;&#160;&quot;\x1b[91m&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00126">126</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a92a364c2b863dde1a024a77eac2a5b3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a364c2b863dde1a024a77eac2a5b3b">&#9670;&nbsp;</a></span>ANSI_COLOR_RESET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANSI_COLOR_RESET&#160;&#160;&#160;&quot;\x1b[0m&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00131">131</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a5a123b382640b3aa65dd5db386002fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a123b382640b3aa65dd5db386002fbc">&#9670;&nbsp;</a></span>ANSI_COLOR_YELLOW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANSI_COLOR_YELLOW&#160;&#160;&#160;&quot;\x1b[93m&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00128">128</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="adbb32e6744a151dde6686dbc26bdd342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb32e6744a151dde6686dbc26bdd342">&#9670;&nbsp;</a></span>BIAS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIAS&#160;&#160;&#160;(0.86)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00116">116</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a7d72754a58dc9658cc48d79f95b2021a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d72754a58dc9658cc48d79f95b2021a">&#9670;&nbsp;</a></span>DOPPLER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOPPLER_LENGTH&#160;&#160;&#160;(16)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00107">107</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="ad48ea9b06da6b3c5d9a4c4a5eedf32b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad48ea9b06da6b3c5d9a4c4a5eedf32b3">&#9670;&nbsp;</a></span>DOPPLER_PLOT_STEPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOPPLER_PLOT_STEPS&#160;&#160;&#160;(4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00110">110</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a04cd99408e5aa73da70ee01ca940c860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04cd99408e5aa73da70ee01ca940c860">&#9670;&nbsp;</a></span>DOPPLER_VELOCITY_COUNTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOPPLER_VELOCITY_COUNTS&#160;&#160;&#160;(4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00113">113</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a061e870517c5d5c01d232d72e5b6857f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a061e870517c5d5c01d232d72e5b6857f">&#9670;&nbsp;</a></span>DOWNSAMPLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOWNSAMPLE&#160;&#160;&#160;(8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00119">119</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="aed8c37fd6aaacee448c1660f09f11ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8c37fd6aaacee448c1660f09f11ed5">&#9670;&nbsp;</a></span>SHOW_DEBUG_SETTINGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHOW_DEBUG_SETTINGS</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="anchor" id="bbb_onza_doppler_demo"></a> </p><h1>DopplerDemo</h1>
<p>This is an example of how to use the Doppler filter in conjunction with the MTI cluttermap.</p>
<h2>Hardware Setup</h2>
<p>For this demo, a BeagleBone Black + Onza cape + LTSA 5 antennas were used. The radar was placed on the table with the antennas aimed horizontally.</p>
<h2>Demonstration Code</h2>
<p>Gnuplot is (optionally) used to display the Doppler matrix. Before plotting, the Doppler matrix is reordered so negative velocities are on the left side, and positive velocities are on the right side, with zero velocity in the center column. Targets will appear as blobs of color (squashed rectangles).</p>
<p>As the program runs, the Doppler matrix updates. In the current form, several filtered radar frames are added prior to processing. This shows how Doppler processing may occur at a different rate than the radar frame rate.</p>
<p>In this version, a simple "zone" sense is implemented. Two distances are chosen for comparison. In addition to the zones, a target threshold was also added. In straight Doppler, when the Doppler matrix is processed, some (row, col) is used to determine target. In case where little movement has occurred, this selection may pick random noise. The threshold check will reject many of these situations.</p>
<p>As the demo is running, the output is colorized. The output will be white when no targets are detected. When a target <em>is</em> detected, the text is colored by the distance in a red/yellow/green manner, where red would be for close targets, and green for far target. There may also be another message, magenta if target is going away from radar, or cyan if the target is approaching.</p>
<dl class="section note"><dt>Note</dt><dd>Gnuplot is rather <em>slow</em> for plotting the Doppler matrix. The visualization is optional via the -g command-line flag</dd>
<dd>
Doppler is only valid when targets are in motion and is not appropriate for detecting stationary objects.</dd></dl>
<h3>Command-line Options</h3>
<p>The command-line options:</p><ul>
<li>-g : enable gnuplot (will <em>significantly</em> slow the framerate!)</li>
</ul>
<h3>Demo in Action</h3>
<p>Example output: </p><pre class="fragment">distance =  3.407 m   [     3 ]   target moving toward...
distance =  3.355 m   [     3 ]   target moving toward...
distance =  3.252 m   [     3 ]   target moving toward...
distance =  3.150 m   [     3 ]   target moving toward...
distance =  3.150 m   [     3 ]
distance =  3.150 m   [     3 ]
distance =  3.098 m   [     3 ]   target moving toward...
distance =  3.047 m   [     3 ]   target moving toward...
distance =  2.790 m   [   2   ]   target moving toward...
distance =  2.790 m   [   2   ]
distance =  2.841 m   [   2   ]
distance =  2.687 m   [   2   ]   target moving toward...
distance =  2.584 m   [   2   ]   target moving toward...
distance =  2.533 m   [   2   ]   target moving toward...
</pre><h3>User Enhancements</h3>
<p>This is a simple implementation. Future enhancements could add in some filtering on the distance estimations.</p>
<dl class="section user"><dt>Environment</dt><dd>BeagleBone Black + Onza cape</dd></dl>
<dl class="section user"><dt>Compiler</dt><dd>GNU GCC</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Justin Hadella</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2015 by FlatEarth, Inc </dd></dl>

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00103">103</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aace9aea586c7952bcd4ba6737af8ea1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace9aea586c7952bcd4ba6737af8ea1c">&#9670;&nbsp;</a></span>doppler_interpret()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doppler_interpret </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>velocities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>doppler_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00251">251</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a87bffc6aa5c7bcbb185aae0fd0bdb8e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87bffc6aa5c7bcbb185aae0fd0bdb8e0">&#9670;&nbsp;</a></span>doppler_rotate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doppler_rotate </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>doppler_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>doppler_dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function reorders Doppler matrix so zero velocity is centered</p>
<p>Each Doppler matrix is actually stored as a 1D array. The "columns" store the velocity data. Without modification, the DC or zero-velocity data is in column 0. The next several columns have increasing positive velocities. The remaining half starts with the most negative velocity which increase to 0.</p>
<p>The reordering moves the negative velocity columns to the left, so that each column increases in velocity from the most negative value to the most positive value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">doppler_src</td><td>The Doppler matrix to reorder </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">doppler_dst</td><td>The reordered Doppler matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">row_len</td><td>The number of samples in each row </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col_len</td><td>The number of columns </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00227">227</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00309">309</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a64a6014565bb3e03294ec4a952d5add0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a6014565bb3e03294ec4a952d5add0">&#9670;&nbsp;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void usage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00197">197</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
<a id="a6bdac26f84eb11c5550f87b729837655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bdac26f84eb11c5550f87b729837655">&#9670;&nbsp;</a></span>velocity_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void velocity_update </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>velocities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="doppler__demo_8c_source.html#l00244">244</a> of file <a class="el" href="doppler__demo_8c_source.html">doppler_demo.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 6 2019 16:32:47 for Salsa Demo Programs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
